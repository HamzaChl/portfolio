<%- include('partials/head') %>
<%- include('partials/header') %>
<div class="background-text">
    <span><%= title %></span>
</div>

<main>
    <article class="project-article margin">
        <a href="/projects" class="nav-item project-a"><i class="fa-solid fa-arrow-left-long"></i> Retourner aux projets</a>
        <% projects.forEach(function(project) { %>
            <% if (project.href === currentPage) { %>
                <h1><%= project.name %></h1>
                <div class="project-details">
                    <p><%= project.description %></p>
                    <p>Année: <%= project.year %></p>
                    <p>Statut: <%= project.status %></p>
                    <p>TECHNOLOGIES: </p>
                    <div class="technolgies-container">
                        <% project.technologies.forEach(function(technologie) { %>
                            <% if (technologie) { %>
                                <p class="technolgies"><%= technologie %></p>
                            <% } %>
                        <% }); %>
                    </div>
                    <p>Fonctionnalités:</p>
                    <ul>
                        <% project.features.forEach(function(feature) { %>
                            <% if (feature) { %>
                                <li><%= feature %></li>
                            <% } %>
                        <% }); %>
                    </ul>
                    <% if (project.link) { %>
                        <p><a href="<%= project.link %>" target="_blank" class="nav-item special-word project-link"><i class="fa-solid fa-link"></i> Link to Project</a></p>
                    <% } %>
                    <% if (project.Contributors && project.Contributors.length > 0) { %>
                        <div class="contributors">
                            <p>Contributors:</p>
                            <% project.Contributors.forEach(function(contributor) { %>
                                <a class="icon-footer" target="_blank" href="<%= contributor %>">
                                    <i class="fab fa-github"></i>
                                </a>
                            <% }); %>
                        </div>
                    <% } %>
                    
                </div>
                <div class="image-container">
                    <% if (project.images && project.images.length > 0) { %>
                        <% project.images.forEach(function(image) { %>
                            <% if (image) { %>
                                <figure class="margin">
                                    <img class="preview-img" src="<%= image %>" alt="<%= project.name %> Preview" />
                                </figure>
                            <% } %>
                        <% }); %>
                    <% } else { %>
                        <figure class="margin">
                            <img src="/default-image.jpg" alt="<%= project.name %> Preview" /> <!-- Remplacez par l'image par défaut si nécessaire -->
                        </figure>
                    <% } %>
                </div>
            <% } %>
        <% }); %>
    </article>
</main>

<%- include('partials/footer') %>
<%- include('partials/foot') %>
